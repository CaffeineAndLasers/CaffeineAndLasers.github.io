
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <head><title>Imaging Photonic Crystal Fibers and Measuring Their Geometries</title></head>
    <link href="../../Assets/favicon.ico" rel="icon" type="image/x-icon" />
    <link rel="stylesheet" href="/styles.css">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' https://staticcdn.aus.social 'unsafe-inline' 'wasm-unsafe-eval';">
</head>

<div id="container"><div id="header"></div>
    <div id="headerArea">
    <nav id="navbar" style="margin-bottom: 0px;"><ul>
            <li><a href="/index.html">Home</a></li>
            <li><a href="/blog.html">Blog</a></li>
            <li><a href="/notes.html">Notes & Links</a></li>
            <li><a href="/Resources.html">Resources</a></li>
            <li><a href="/media.html">Media</a></li>
            <!-- This empty one feels immature -->
            <!-- <li><a href="/publications.html">Publications</a></li>  -->
            <!-- <li><a href="/Resume.html">Resume</a></li> -->
            <li><a href="/contact.html">Contact Me</a></li>
</ul></nav></div>


<div id="flex">

<aside id="leftSidebar"><h2>Updates</h2>
<div class="box">
    What am I doing these days!
    <ul>
        <li><b>April 2025</b> - Traveled to U.K to collaborate with Durham University</li>
        <li><b>April 2025</b> - Traveling to <a href="https://dlr.expert/coat2025/" target="_blank">COAT 2025</a> in Munich </li>
        <li><b>July 2024</b> - Started this website!</li>
        <li><b>July 2023</b> - Started my PhD</li>
    </ul>
</div>


<h2> Say Hello!</h2> 

<div >
    <img 
        src="\Assets\KappyIdle.png" 
        alt="Koffee Koala" 
        class="KappySidebar"
    />
</div>

<p></p>

<b>Sign my  <a href="https://caffeineandlasers.atabook.org/"> Guestbook </a>!</b>


<h2>Find Me Online</h2>
<ul>
    <li>
        <a href="https://aus.social/@AuntyRed/" target="_blank"
            >Mastodon</a
        >
    </li>
    <li>
        <a
            href="https://www.youtube.com/@CameronJones-dj8mml"
            target="_blank"
            >YouTube</a
        >
    </li>
    <li>
        <a
            href="https://www.linkedin.com/in/cameron-jones-sydney/"
            target="_blank"
            >LinkedIn</a
        >
    </li>
    <li>
        <a
            href="https://github.com/CJones-Optics/"
            target="_blank"
            >GitHub</a
        >
    </li>
</ul>
</aside>


<main>

<h1> Imaging Photonic Crystal Fibers and Measuring Their Geometries </h1>
<hr>
<p>date: 2025-05-29
parent:</p>
<ul>
<li>&quot;[[LF-PCF Bench Test]]&quot;</li>
<li>&quot;[[Photonic Crystal Fibres|PCF]]&quot;</li>
<li>&quot;[[LMA20]]&quot;</li>
<li>&quot;[[LMA25]]&quot;</li>
<li>&quot;[[ESM12B]]&quot;
aliases:
tags:
UFI: 20250529T154800</li>
</ul>
<hr>
<h1>1 Test title</h1>
<p>Adding some text here so I dont obviously break the yaml and description. yapp yapp yap. Heedy howedy ass</p>
<h1>2 Summary Results</h1>
<table>
<thead>
<tr>
<th>Fiber</th>
<th>[[LMA20]]</th>
<th>[[LMA25]]</th>
<th>[[ESM12B]]</th>
</tr>
</thead>
<tbody>
<tr>
<td>Hole RADIUS ($\micro m$)</td>
<td>5.7</td>
<td>7.7</td>
<td>3.7</td>
</tr>
<tr>
<td>Hole Pitch ($\micro m$)</td>
<td>10.5</td>
<td>14.2</td>
<td>6.7</td>
</tr>
<tr>
<td>Measured Diameter ($\micro m$)</td>
<td>225</td>
<td>245.6</td>
<td>134</td>
</tr>
</tbody>
</table>
<hr>
<h1>3 Process</h1>
<h2>3.1 Pixel Scale</h2>
<p>• The pixel scale was computed in using a 100$\micro m$ piano ware as calibration. It was found to be <strong>0.60 µm/pixel</strong>.</p>
<h2>3.2 Pre-processing &amp; Mask Extraction</h2>
<p>First we masked the image</p>
<p>For each fiber (LMA20, ESM12B, LMA25) you:</p>
<ol>
<li>Loaded the grayscale image with <code>cv2.imread</code>.</li>
<li>Applied a heavy Gaussian blur (<code>cv2.GaussianBlur</code>) and simple threshold (<code>cv2.threshold</code>).</li>
<li>Found contours (<code>cv2.findContours</code>) and fit a circle (<code>cv2.minEnclosingCircle</code>) to the largest contour.</li>
<li>Created a binary mask (circle) of the cladding.</li>
</ol>
<h2>3.3 Hotspot Detection</h2>
<p>Once we were happy with the mask we wanted to find the holes automatically.</p>
<p>• Invert the image (<code>255 - image</code>) then zero out everything outside the circular mask.  This is so that the holes are bright spots
• Detect local maxima with <code>skimage.feature.peak_local_maxima</code>.<br>
• Filter peaks to those within a reduced ROI around the fiber core (≈ 0.8–0.85 × cladding radius). This was necessary since often the edges of the fiber were quite hot</p>
<h2>3.4 Radial Profiling</h2>
<p>Once we had found all of the holes, we wanted to estimate their size. So we go to the center of each spot and get the mean intensity as a function of radius from the center of the hotspot</p>
<p>• Defined a helper function <code>radial_profile</code> to compute mean intensity vs. radius for any center.<br>
• For each hotspot, extracted a 1D profile up to <code>max_radius=100</code> pixels (~60 µm).<br>
• Stacked all profiles into arrays (<code>stacked_radial_profiles_lma20</code>, etc.) for each fiber type.</p>
<h2>3.5 Radius &amp; Pitch Extraction</h2>
<p>After getting the radial profile, we can assume the first local minima is the edge of the hoe, and the first local max is the center of the next</p>
<ol>
<li><strong>Hole radius</strong>: For each profile, find the first minima in intensity (<code>find_peaks(-profile)</code>). Collect these into <code>first_minima_list_*</code> and compute the median → <code>median_first_minima_*</code>.</li>
<li><strong>Pitch</strong>: Find the next maxima after the first minima → <code>median_second_maxima_*</code>.</li>
<li>Convert both metrics to micrometers by multiplying by <code>pixel_size = 0.6 µm</code>.</li>
<li>Print out:
<ul>
<li>Cladding diameter = 2 × <code>radius_*</code> (pixels and µm)</li>
<li>Estimated hole radius (<code>median_first_minima_* × pixel_size</code>)</li>
<li>Estimated hole pitch (<code>median_second_maxima_* × pixel_size</code>)</li>
</ul>
</li>
</ol>
<h1>4 Results</h1>
<h2>4.1 LMA20</h2>
<h3>4.1.1 Hotspot detection</h3>
<p><img src="cc71b9a24c4586360308375134dbe845.png" alt=""></p>
<h3>4.1.2 Calculating Feature Size</h3>
<p><img src="ece6a4be5fb5abe8d691823e77ca6005.png" alt=""></p>
<h2>4.2 LMA25</h2>
<h3>4.2.1 Hotspot detection</h3>
<p><img src="a2cc96f23ec6399afa4acab25d1ac5e3.png" alt=""></p>
<h3>4.2.2 Calculating Feature Size</h3>
<p><img src="d62bd299231d132bffff29a539240617.png" alt=""></p>
<h2>4.3 ESM12B</h2>
<h3>4.3.1 Hotspot detection</h3>
<p><img src="a822fb8d37ccad331793d4d2f07fa944.png" alt=""></p>
<h3>4.3.2 Calculating Feature Size</h3>
<p><img src="24b08793732a0072b6c3e475a9a6363a.png" alt=""></p>

</main>

</div>
<footer id="footer">
    <div style="display: flex; justify-content: center; align-items: center; gap: 20px;">
        <a href="/FeedList.html">
            <img 
            src="/Assets/RSS_Logo.png" 
            alt="RSS Feed" 
            style="width: 20px; height: 20px" 
            />
        </a>
        <span style="font-size: 0.8em;">
            <a href="/sitemap.xml">Sitemap</a>
        </span>
    </div>
</footer>

</html>